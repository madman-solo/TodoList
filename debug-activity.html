<!DOCTYPE html>
<html>
<head>
    <title>活跃度数据调试</title>
</head>
<body>
    <h1>活跃度数据调试工具</h1>
    <button onclick="checkData()">检查 localStorage 数据</button>
    <button onclick="clearData()">清除所有活跃度数据</button>
    <pre id="output"></pre>

    <script>
        function checkData() {
            const output = document.getElementById('output');
            let result = '=== localStorage 中的活跃度数据 ===\n\n';

            // 遍历所有 localStorage 键
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && key.startsWith('activity_')) {
                    const value = localStorage.getItem(key);
                    result += `${key}:\n${value}\n\n`;
                }
            }

            if (!result.includes('activity_')) {
                result += '没有找到任何活跃度数据！\n';
            }

            output.textContent = result;
        }

        function clearData() {
            const keys = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && key.startsWith('activity_')) {
                    keys.push(key);
                }
            }

            keys.forEach(key => localStorage.removeItem(key));
            alert(`已清除 ${keys.length} 条活跃度数据`);
            checkData();
        }
    </script>
</body>
</html>
